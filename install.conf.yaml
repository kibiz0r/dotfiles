# Default options for dotbot commands like "link"
- defaults:
    link:
      relink: true

# Cleans up dead symlinks in ~
- clean: ['~']

- shell:
  - [git submodule update --init --recursive, Downloading submodules]
  - [./write_defaults, Setting OS X defaults]
  - [./remap_caps_lock_to_esc, Remapping Caps Lock to Esc]
  - [./install_homebrew, Installing Homebrew]
  - [brew tap homebrew/bundle, Installing Homebrew bundle installer]
  - [brew install mas, Installing mas]
  - [./install_app_store_apps, Installing App Store apps (in background)]
  - [xcode-select --install || true, Installing Xcode command line tools]
  - [brew bundle, Installing Homebrew formulae]
  - [brew unlink python, "Unlinking Python for MacVim's sake (https://github.com/Valloric/YouCompleteMe/issues/18)"]
  - [./install_iterm2, Installing iTerm2]
  - [./change_shell_to_zsh, Changing shell to zsh]
    [./install_macvim, Installing MacVim]
  - [./install_vim_bundles, Installing vim bundles]
  - [./configure_finder_favorites, Configuring Finder favorites]
  - [./install_unaphy_dependencies, Installing Unaphy dependencies]
  - [./install_vscode, Installing VSCode]
  - [./install_vscode_extensions, Installing VSCode extensions]
  - [./configure_omnisharp, Configuring OmniSharp]
  - [./configure_unity, Configuring Unity]
  - [./configure_desktop, Configuring desktop]
  - [killall Finder, Relaunching Finder]
  - [killall Dock, Relaunching Dock]
  - [killall SystemUIServer, Relaunching SystemUIServer]
# TODO: Remote Login, Remote Management

- link:
    ~/.oh-my-zsh: oh-my-zsh
    # Provided by brew now
    # /usr/local/bin/mvim: /Applications/MacVim.app/Contents/bin/mvim
    ~/.vim: vim
    ~/.vimrc: vimrc
    ~/.zshrc: zshrc
    ~/.zsh_custom: zsh_custom
    ~/bin: bin
    ~/.omnisharp: omnisharp
    ~/Library/Application Support/Code/User:
      create: true
      path: vscode
    ~/.gitconfig: gitconfig
    ~/.gitignore_global: gitignore_global
    ~/.iTerm2: iTerm2
    ~/Library/Preferences/com.hegenberg.BetterSnapTool.plist: BetterSnapTool.plist
    ~/Library/Application Support/BetterSnapTool: BetterSnapTool
